# APP å®¢æˆ·ç«¯

## é¡¹ç›®ç®€ä»‹

å…­è¶£DNS APPæ˜¯åŸºäºuni-appå¼€å‘çš„å¤šå¹³å°DNSåŸŸåç®¡ç†åº”ç”¨ï¼Œæ”¯æŒAndroidã€iOSã€H5ã€å¾®ä¿¡å°ç¨‹åºç­‰å¤šç«¯è¿è¡Œã€‚

**GitHub**: https://github.com/976853694/cloudflare-DNS-APP

---

## æ”¯æŒå¹³å°

| å¹³å° | çŠ¶æ€ |
|------|------|
| âœ… Android APP | æ”¯æŒ |
| âœ… iOS APP | æ”¯æŒ |
| âœ… H5 ç½‘é¡µç‰ˆ | æ”¯æŒ |
| âœ… å¾®ä¿¡å°ç¨‹åº | æ”¯æŒ |
| âœ… æ”¯ä»˜å®å°ç¨‹åº | æ”¯æŒ |
| âœ… ç™¾åº¦å°ç¨‹åº | æ”¯æŒ |
| âœ… æŠ–éŸ³å°ç¨‹åº | æ”¯æŒ |
| âœ… QQ å°ç¨‹åº | æ”¯æŒ |

---

## åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç«¯åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ” ç”¨æˆ·è®¤è¯ | æ³¨å†Œã€ç™»å½•ã€å¿˜è®°å¯†ç ã€é‚®ç®±éªŒè¯ |
| ğŸ”— OAuthç™»å½• | GitHubã€Googleã€NodeLocå¿«æ·ç™»å½• |
| ğŸ”’ åŒå› ç´ è®¤è¯ | TOTP 2FAå®‰å…¨ä¿æŠ¤ |
| ğŸŒ åŸŸåç®¡ç† | è´­ä¹°äºŒçº§åŸŸåã€æŸ¥çœ‹åŸŸååˆ—è¡¨ã€åŸŸåç»­è´¹ |
| ğŸ“ DNSè§£æ | æ”¯æŒAã€AAAAã€CNAMEã€TXTã€MXã€NSç­‰è®°å½• |
| ğŸ’³ å……å€¼ç³»ç»Ÿ | å¡å¯†å……å€¼ã€ä¼˜æƒ åˆ¸æ”¯æŒ |
| ğŸ“¢ å…¬å‘Šç³»ç»Ÿ | æŸ¥çœ‹ç³»ç»Ÿå…¬å‘Šã€æœªè¯»æé†’ |
| ğŸ”’ å®‰å…¨è®¾ç½® | 2FAã€IPé™åˆ¶ã€APIå¯†é’¥ç®¡ç† |
| ğŸ–¥ï¸ è™šæ‹Ÿä¸»æœº | è´­ä¹°ä¸»æœºã€æ–‡ä»¶ç®¡ç†ã€SSLè¯ä¹¦ã€PHPç‰ˆæœ¬ |
| ğŸ”„ APPæ›´æ–° | è‡ªåŠ¨æ£€æµ‹æ›´æ–°ã€å¼ºåˆ¶æ›´æ–°æ”¯æŒ |

### ç®¡ç†ç«¯åŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| ğŸ“Š æ•°æ®ç»Ÿè®¡ | ç”¨æˆ·ç»Ÿè®¡ã€åŸŸåç»Ÿè®¡ã€æ”¶å…¥ç»Ÿè®¡ |
| ğŸ‘¥ ç”¨æˆ·ç®¡ç† | ç”¨æˆ·åˆ—è¡¨ã€ç¼–è¾‘ã€ç¦ç”¨ã€åˆ é™¤ |
| ğŸŒ åŸŸåç®¡ç† | ä¸»åŸŸåç®¡ç†ã€äºŒçº§åŸŸåç®¡ç† |
| ğŸ“¦ å¥—é¤ç®¡ç† | åˆ›å»ºå¥—é¤ã€ä»·æ ¼è®¾ç½®ã€æœ‰æ•ˆæœŸé…ç½® |
| ğŸ« å¡å¯†ç®¡ç† | æ‰¹é‡ç”Ÿæˆã€å¯¼å‡ºã€çŠ¶æ€ç®¡ç† |
| ğŸ ä¼˜æƒ åˆ¸ç®¡ç† | åˆ›å»ºä¼˜æƒ åˆ¸ã€ä½¿ç”¨è®°å½•æŸ¥çœ‹ |
| ğŸ“‹ è®¢å•ç®¡ç† | è´­ä¹°è®°å½•æŸ¥çœ‹ã€æ‰¹é‡åˆ é™¤ |
| ğŸ“¡ æ¸ é“ç®¡ç† | å¤šDNSæœåŠ¡å•†æ”¯æŒ |
| ğŸ“¢ å…¬å‘Šç®¡ç† | å‘å¸ƒå…¬å‘Šã€ç½®é¡¶ã€å¼¹çª—æ˜¾ç¤º |
| âš™ï¸ ç³»ç»Ÿè®¾ç½® | ç«™ç‚¹é…ç½®ã€SMTPé‚®ä»¶é…ç½® |
| ğŸ–¥ï¸ è™šæ‹Ÿä¸»æœºç®¡ç† | æœåŠ¡å™¨ã€å¥—é¤ã€ä¸»æœºå®ä¾‹ç®¡ç† |
| ğŸ“± APPç‰ˆæœ¬ç®¡ç† | ç‰ˆæœ¬å‘å¸ƒã€å¼ºåˆ¶æ›´æ–°è®¾ç½® |
| ğŸ“œ æ“ä½œæ—¥å¿— | ç®¡ç†å‘˜æ“ä½œè®°å½• |

---

## å¼€å‘ç¯å¢ƒ

### ç¯å¢ƒè¦æ±‚

- Node.js >= 14.x
- HBuilderXï¼ˆæ¨èæœ€æ–°ç‰ˆï¼‰
- åç«¯APIæœåŠ¡

### å®‰è£…æ­¥éª¤

**1. å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/976853694/cloudflare-DNS-APP.git
cd cloudflare-DNS-APP
```

**2. å®‰è£…ä¾èµ–**

```bash
npm install
```

**3. é…ç½®APIåœ°å€**

ä¿®æ”¹ `utils/request.js` ä¸­çš„ `baseURL`ï¼š

```javascript
const baseURL = 'https://your-api-domain.com/api'
```

**4. è¿è¡Œé¡¹ç›®**

ä½¿ç”¨HBuilderXæ‰“å¼€é¡¹ç›®ï¼Œé€‰æ‹©è¿è¡Œåˆ°å¯¹åº”å¹³å°ï¼š

- è¿è¡Œåˆ°æµè§ˆå™¨ï¼ˆH5ï¼‰
- è¿è¡Œåˆ°Androidæ¨¡æ‹Ÿå™¨/çœŸæœº
- è¿è¡Œåˆ°iOSæ¨¡æ‹Ÿå™¨/çœŸæœº
- è¿è¡Œåˆ°å¾®ä¿¡å¼€å‘è€…å·¥å…·

---

## æ‰“åŒ…å‘å¸ƒ

### Android APKæ‰“åŒ…

1. åœ¨HBuilderXä¸­é€‰æ‹© **å‘è¡Œ** â†’ **åŸç”ŸApp-äº‘æ‰“åŒ…**
2. é…ç½®åº”ç”¨ä¿¡æ¯å’Œè¯ä¹¦
3. ç­‰å¾…äº‘ç«¯æ‰“åŒ…å®Œæˆ
4. ä¸‹è½½APKæ–‡ä»¶

### iOS IPAæ‰“åŒ…

1. éœ€è¦Appleå¼€å‘è€…è´¦å·
2. åœ¨HBuilderXä¸­é€‰æ‹© **å‘è¡Œ** â†’ **åŸç”ŸApp-äº‘æ‰“åŒ…**
3. é…ç½®iOSè¯ä¹¦å’Œæè¿°æ–‡ä»¶
4. ç­‰å¾…äº‘ç«¯æ‰“åŒ…å®Œæˆ

### H5å‘å¸ƒ

1. åœ¨HBuilderXä¸­é€‰æ‹© **å‘è¡Œ** â†’ **ç½‘ç«™-H5æ‰‹æœºç‰ˆ**
2. é…ç½®å‘è¡Œè·¯å¾„
3. å°†ç”Ÿæˆçš„æ–‡ä»¶éƒ¨ç½²åˆ°WebæœåŠ¡å™¨

### å°ç¨‹åºå‘å¸ƒ

1. åœ¨HBuilderXä¸­é€‰æ‹© **å‘è¡Œ** â†’ **å°ç¨‹åº-å¾®ä¿¡**ï¼ˆæˆ–å…¶ä»–å¹³å°ï¼‰
2. ä½¿ç”¨å¯¹åº”å¹³å°çš„å¼€å‘è€…å·¥å…·ä¸Šä¼ ä»£ç 
3. åœ¨å°ç¨‹åºç®¡ç†åå°æäº¤å®¡æ ¸

---

## é¡¹ç›®ç»“æ„

```
cloudflare-DNS-APP/
â”œâ”€â”€ api/                    # APIæ¥å£æ¨¡å—
â”‚   â”œâ”€â”€ admin.js           # ç®¡ç†ç«¯API
â”‚   â”œâ”€â”€ auth.js            # è®¤è¯API
â”‚   â”œâ”€â”€ domain.js          # åŸŸåAPI
â”‚   â”œâ”€â”€ dns.js             # DNSè®°å½•API
â”‚   â”œâ”€â”€ security.js        # å®‰å…¨è®¾ç½®API
â”‚   â”œâ”€â”€ vhost.js           # è™šæ‹Ÿä¸»æœºAPI
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/            # å…¬å…±ç»„ä»¶
â”‚   â””â”€â”€ custom-tabbar/     # è‡ªå®šä¹‰åº•éƒ¨å¯¼èˆª
â”œâ”€â”€ pages/                 # é¡µé¢æ–‡ä»¶
â”‚   â”œâ”€â”€ index/            # é¦–é¡µ
â”‚   â”œâ”€â”€ mine/             # æˆ‘çš„
â”‚   â”œâ”€â”€ login/            # ç™»å½•
â”‚   â”œâ”€â”€ register/         # æ³¨å†Œ
â”‚   â”œâ”€â”€ domain/           # åŸŸåç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ list.vue      # åŸŸååˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ detail.vue    # åŸŸåè¯¦æƒ…
â”‚   â”‚   â””â”€â”€ purchase.vue  # è´­ä¹°åŸŸå
â”‚   â”œâ”€â”€ vhost/            # è™šæ‹Ÿä¸»æœºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ list.vue      # ä¸»æœºåˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ detail.vue    # ä¸»æœºè¯¦æƒ…
â”‚   â”‚   â””â”€â”€ purchase.vue  # è´­ä¹°ä¸»æœº
â”‚   â”œâ”€â”€ settings/         # è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ settings.vue  # è®¾ç½®é¦–é¡µ
â”‚   â”‚   â””â”€â”€ security.vue  # å®‰å…¨è®¾ç½®
â”‚   â”œâ”€â”€ admin/            # ç®¡ç†åå°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.vue     # ç®¡ç†é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ users.vue     # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ domains.vue   # åŸŸåç®¡ç†
â”‚   â”‚   â”œâ”€â”€ plans.vue     # å¥—é¤ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ coupons.vue   # ä¼˜æƒ åˆ¸ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ settings.vue  # ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â”œâ”€â”€ vhost.vue     # è™šæ‹Ÿä¸»æœºç®¡ç†
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ static/               # é™æ€èµ„æº
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.js        # ç½‘ç»œè¯·æ±‚å°è£…
â”‚   â””â”€â”€ storage.js        # æœ¬åœ°å­˜å‚¨å°è£…
â”œâ”€â”€ App.vue               # åº”ç”¨å…¥å£
â”œâ”€â”€ main.js               # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ manifest.json         # åº”ç”¨é…ç½®
â”œâ”€â”€ pages.json            # é¡µé¢è·¯ç”±é…ç½®
â””â”€â”€ uni.scss              # å…¨å±€æ ·å¼
```

---

## é…ç½®è¯´æ˜

### manifest.json

åº”ç”¨åŸºæœ¬é…ç½®ï¼š

```json
{
  "name": "å…­è¶£DNS",
  "appid": "__UNI__56C7881",
  "versionName": "1.0.0",
  "versionCode": 1
}
```

### pages.json

é¡µé¢è·¯ç”±é…ç½®ï¼Œå®šä¹‰é¡µé¢è·¯å¾„å’Œå¯¼èˆªæ æ ·å¼ã€‚

### æƒé™é…ç½®ï¼ˆAndroidï¼‰

åº”ç”¨éœ€è¦ä»¥ä¸‹æƒé™ï¼š
- ç½‘ç»œè®¿é—®æƒé™
- ç½‘ç»œçŠ¶æ€æƒé™
- WiFiçŠ¶æ€æƒé™

---

## APIé…ç½®

### è¯·æ±‚å°è£…

`utils/request.js` å°è£…äº†ç»Ÿä¸€çš„ç½‘ç»œè¯·æ±‚ï¼š

```javascript
const baseURL = 'https://your-api-domain.com/api'

// APPç«¯è‡ªåŠ¨æ·»åŠ æ ‡è¯†å¤´
headers['X-Client-Type'] = 'app'
```

### Tokenç®¡ç†

`utils/storage.js` å°è£…äº†æœ¬åœ°å­˜å‚¨ï¼š

```javascript
// ä¿å­˜Token
storage.setToken(token)

// è·å–Token
const token = storage.getToken()

// æ¸…é™¤Token
storage.removeToken()
```

---

## å¸¸è§é—®é¢˜

### 1. APIè¯·æ±‚å¤±è´¥

- æ£€æŸ¥ `baseURL` é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 2. æ‰“åŒ…å¤±è´¥

- æ£€æŸ¥HBuilderXç‰ˆæœ¬æ˜¯å¦æœ€æ–°
- æ£€æŸ¥è¯ä¹¦é…ç½®æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹æ‰“åŒ…æ—¥å¿—æ’æŸ¥é”™è¯¯

### 3. å°ç¨‹åºå®¡æ ¸ä¸é€šè¿‡

- æ£€æŸ¥æ˜¯å¦æœ‰æ•æ„Ÿå†…å®¹
- æ£€æŸ¥æ˜¯å¦ç¬¦åˆå¹³å°è§„èŒƒ
- å®Œå–„éšç§æ”¿ç­–å’Œç”¨æˆ·åè®®

---

## è”ç³»æ–¹å¼

- **GitHub**: https://github.com/976853694/cloudflare-DNS-APP
- **Issues**: [æäº¤é—®é¢˜](https://github.com/976853694/cloudflare-DNS-APP/issues)
- **QQäº¤æµç¾¤**: [ç‚¹å‡»åŠ å…¥](https://qm.qq.com/q/nMNgw1CB7q)
